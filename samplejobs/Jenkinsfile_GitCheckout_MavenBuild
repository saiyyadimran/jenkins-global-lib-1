@Library('global-shared-pipeline-lib-new') _
 
pipeline {
    agent any
    stages {
		stage('Container Creation') {
            steps {
                podTemplate()
            }
        }
        stage('Git Checkout') {
            steps {
                gitCheckout(
                    branch: "master",
                    url: "https://github.com/saiyyadimran/jenkins-global-lib",
                    credentialsId: "GIT1"
                )
            }
        }
        stage('Maven Clean Build') {
			container('maven') {
				steps {
					sh "pwd"
					sh "ls -ltr"
					sh "cd samplemavenproject"
					sh "ls -ltr"
					sh "pwd"
					mvnCleanInstallWithoutProfile(
					  skipTest: true
					)
					sh "ls -ltr"
				} 
			}
        }
    }
}
